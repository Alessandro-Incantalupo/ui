---
import Group, { type GroupProps } from '@components/wrappers/Group.astro'
import type { ButtonProps } from './Button.astro'
import Button from './Button.astro'

type Props = GroupProps & {
  buttons?: ButtonProps[] | null
  importance?: 'primary' | 'secondary' | 'tertiary' | null
}

let { buttons, importance = 'primary', ...restProps } = Astro.props

const getImportance = (i: number) => {
  if (!importance) importance = 'primary'
  if (i === 0) return importance
  if (i === 1 && importance === 'primary') return 'secondary'
  if (i === 1 && importance === 'secondary') return 'tertiary'
  if (i === 1 && importance === 'tertiary') return 'tertiary'
  if (i === 2) return 'tertiary'
  else return 'tertiary'
}
---

<Group {...restProps}>
  {
    buttons?.map((button, i) => (
      <Button
        {...button}
        importance={getImportance(i)}
      />
    ))
  }
</Group>
