---
import type { ComponentProps } from 'astro/types'
import Tag from '../utility/Tag.astro'
import Children from './Children.astro'

type Props = Omit<ComponentProps<typeof Tag<'body'>>, 'as' | 'if'> &
  ComponentProps<typeof Children>

const { ...rest } = Astro.props
---

<Tag
  class:list={['full-body', 'hue-base', 'hue-accent']}
  as="body"
  {...rest}
>
  <slot name="before" />
  <slot>
    <Children {...rest} />
  </slot>
  <slot name="after" />

  <style is:global>
    .body {
      transition: var(--transition);
      background: var(--hue1);
      height: 100%;
      min-height: 100vh;
      color: var(----hue11);
      font: var(--font);

      &.dark {
        color-scheme: dark;
      }
      &.light {
        color-scheme: light;
      }
    }
  </style>
</Tag>
