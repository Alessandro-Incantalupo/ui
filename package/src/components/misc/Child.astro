---
import { z } from 'zod';
import Action from '../Action.astro';
import Body from '../Body.astro';
import Button from '../Button.astro';
import Card from '../Card.astro';
import CardGroup from '../CardGroup.astro';
import Checkbox from '../Checkbox.astro';
import Composite from '../Composite.astro';
import Description from '../Description.astro';
import Display from '../Display.astro';
import Field from '../Field.astro';
import FieldGroup from '../FieldGroup.astro';
import Footer from '../Footer.astro';
import Form from '../Form.astro';
import Head from '../Head.astro';
import Header from '../Header.astro';
import Icon from '../Icon.astro';
import Image from '../Image.astro';
import ImageGroup from '../ImageGroup.astro';
import Input from '../Input.astro';
import Label from '../Label.astro';
import Layout from '../Layout.astro';
import Link from '../Link.astro';
import LinkGroup from '../LinkGroup.astro';
import Logo from '../Logo.astro';
import Media from '../Media.astro';
import Option from '../Option.astro';
import Page from '../Page.astro';
import Price from '../Price.astro';
import Product from '../Product.astro';
import Prose from '../Prose.astro';
import Rating from '../Rating.astro';
import Section from '../Section.astro';
import SectionGroup from '../SectionGroup.astro';
import Select from '../Select.astro';
import Spec from '../Spec.astro';
import SpecGroup from '../SpecGroup.astro';
import Tagline from '../Tagline.astro';
import Textarea from '../Textarea.astro';
import Title from '../Title.astro';
import Video from '../Video.astro';
import Writeup from '../Writeup.astro';
import Component from './Component.astro';

type Props = z.infer<typeof childrenSchema>;

const COMPONENTS: any = {
  Title,
  Description,
  Tagline,
  Writeup,
  Action,
  Body,
  Button,
  Card,
  CardGroup,
  Checkbox,
  Composite,
  Display,
  Field,
  FieldGroup,
  Footer,
  Form,
  Head,
  Header,
  Icon,
  Image,
  ImageGroup,
  Input,
  Label,
  Layout,
  Link,
  LinkGroup,
  Logo,
  Media,
  Option,
  Page,
  Price,
  Product,
  Prose,
  Rating,
  Section,
  SectionGroup,
  Select,
  Spec,
  SpecGroup,
  Textarea,
  Video,
};

// export const childrenSchema = z.object({
//   component: z.string().optional(),
//   tag: z.string().optional(),
// });

export const childrenSchema = z.any();

const { component, tag, ...rest } = childrenSchema.parse(Astro.props);

let Render = component && COMPONENTS[component];
if (!Render && (component || tag)) Render = Component;
---

<Render {...rest} />
