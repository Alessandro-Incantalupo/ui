---
import type { ComponentProps } from 'astro/types'
import { buildProps, type BuildProps } from '../utils'
import Link from './Link.astro'
import Tag from './Tag.astro'

// type Props<As extends HTMLTag = 'div'> = BuildProps<
//   'links',
//   ComponentProps<typeof Tag<As>> & {
//     links?: ComponentProps<typeof Link>[]
//   }
// >

interface Props
  extends BuildProps<'links', Props, ComponentProps<typeof Link>[]>,
    ComponentProps<typeof Tag> {}

const { links, ...rest } = buildProps('links', Astro.props)
---

<Tag
  class="links"
  {...rest}
>
  {links?.map((link) => <Link {...link} />)}
</Tag>

<style is:global>
  .links {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
  }
</style>
