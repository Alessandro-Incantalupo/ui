---
import { z } from 'zod'
import RenderSingle from './RenderSingle.astro'

export const dynamicSchema = z.object({
  component: z.string().optional(),
  title: z.object({
    component: z.string().optional(),
  }),
  description: z.object({
    component: z.string().optional(),
  }),
  tagline: z.object({
    component: z.string().optional(),
  }),
})

const { ...rest } = dynamicSchema.parse(Astro.props)
---

{
  Object.entries(rest).map(([key, value]) => {
    if (typeof value !== 'object') return null
    else return <RenderSingle {...value} />
  })
}
