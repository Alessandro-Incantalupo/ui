---
import type { ComponentProps, HTMLTag, Polymorphic } from 'astro/types'
import Tag from '../_Tag.astro'

type Props<As extends HTMLTag = 'section'> = Polymorphic<{ as: As }> &
  ComponentProps<typeof Tag> & {
    screen?: 'sm' | 'md' | 'lg' | 'xl' | '2xl'
  }

const { ...rest } = Astro.props
---

<Tag
  class:list={['container']}
  {...rest}
>
  <slot />
</Tag>

<style is:global lang="scss">
  @import '../../css/utils.scss';

  @include component('container') {
    margin-right: var(--gutter);
    margin-left: var(--gutter);
    max-width: calc(100% - var(--gutter) * 2);

    &:is(.split > &) {
      @media (min-width: 768px) {
        &:not(:first-child) {
          margin-left: 0;
        }

        &:not(:last-child) {
          margin-right: 0;
        }
      }
    }
  }
</style>
