---
import type { ComponentProps } from 'astro/types'
import { sortByIndex } from '../../utils'
import { Button } from '../button'

interface Props {
  index?: number | null
  buttons?: ComponentProps<typeof Button>[]
}

const { buttons } = Astro.props

const look: {
  [key: number]: 'solid' | 'soft' | 'ghost'
} = {
  0: 'solid',
  1: 'soft',
  2: 'ghost',
}

const sorted = sortByIndex(buttons)
---

{
  sorted?.map((button, i) => (
    <Button
      look={look[i]}
      {...button}
    />
  ))
}
