---
import type { ComponentProps } from 'astro/types'
import { Image } from 'src/components/image'
import { Prose } from 'src/components/prose'
import { Writeup } from 'src/components/writeup'
import { ArticleRoot, ArticleSegment } from '.'

interface Props
  extends ComponentProps<typeof ArticleRoot>,
    ComponentProps<typeof ArticleSegment>,
    ComponentProps<typeof Writeup>,
    ComponentProps<typeof Prose> {
  image?: ComponentProps<typeof Image>
}

const { props } = Astro
---

<ArticleRoot
  class="article"
  {...props}
>
  <ArticleSegment {...props}>
    <Writeup {...props}>
      <slot name="writeup" />
    </Writeup>
    <slot name="segment" />
  </ArticleSegment>
  <Image {...props.image} />
  <Prose {...props} />
  <slot />
</ArticleRoot>
