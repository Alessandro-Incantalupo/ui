---
import type { HTMLAttributes } from 'astro/types'
import MainLayout from 'fulldev-ui/layouts/MainLayout.astro'
import Button from './Button.astro'
import MasterCard from './MasterCard.astro'

type Props = HTMLAttributes<'dialog'> & {
  label?: string
  icon?: string
}

const { label, icon, id = 'dialog', ...rest } = Astro.props
---

<MainLayout {...Astro.props}>
  <Button
    as="button"
    onclick={`document.getElementById('${id}').showModal()`}
    text={label}
    icon={icon}
  />

  <MasterCard
    as="dialog"
    {id}
    {...rest}
  >
    <slot />
  </MasterCard>
</MainLayout>

<style>
  dialog::backdrop {
    background: rgba(0, 0, 0, 0.5);
  }
</style>
