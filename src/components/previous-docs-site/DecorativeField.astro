---
import Carousel from 'fulldev-ui/components/Carousel.astro'
import Column from 'fulldev-ui/components/Column.astro'
import Grid from 'fulldev-ui/components/Grid.astro'
import Masonry from 'fulldev-ui/components/Masonry.astro'
import Row from 'fulldev-ui/components/Row.astro'
import Split from 'fulldev-ui/components/Split.astro'
import Spread from 'fulldev-ui/components/Spread.astro'
import Wrap from 'fulldev-ui/components/Wrap.astro'

import DecorativeBox from './DecorativeBox.astro'
const { structure, frame } = Astro.props

const structureBoxCounts: { [key: string]: number } = {
  carousel: 4,
  column: 3,
  grid: 4,
  masonry: 6,
  split: 2,
  spread: 2,
  row: 4,
  wrap: 6,
}

const boxCount = structureBoxCounts[structure] || 0
---

{
  structure === 'carousel' && (
    <Carousel
      class="decorative-field"
      class:list={'not-content'}
      style="overflow-x: scroll; !important"
    >
      {Array.from({ length: boxCount }, (_, i) => (
        <DecorativeBox
          key={i}
          style={structure === 'carousel' ? 'min-width: 300px;' : ''}
        />
      ))}
      {frame && <DecorativeBox frame={frame} />}
      <slot />
    </Carousel>
  )
}
<PrettierPluginAstroOrganizeImports>
  {
    structure === 'column' && (
      <Column
        class="decorative-field"
        class:list={'not-content'}
      >
        {Array.from({ length: boxCount }, (_, i) => (
          <DecorativeBox
            key={i}
            style={structure === 'carousel' ? 'min-width: 300px;' : ''}
          />
        ))}
        {frame && <DecorativeBox frame={frame} />}
        <slot />
      </Column>
    )
  }
  <PrettierPlugin< PrettierPluginAstroOrganizeImports
    >AstroOrganizeImports>
    {
      structure === 'grid' && (
        <Grid
          class="decorative-field"
          class:list={'not-content'}
        >
          {Array.from({ length: boxCount }, (_, i) => (
            <DecorativeBox
              key={i}
              style={structure === 'carousel' ? 'min-width: 300px;' : ''}
            />
          ))}
          {frame && <DecorativeBox frame={frame} />}
          <slot />
        </Grid>
      )
    }
    <PrettierPlugin< PrettierPluginAstroOrganizeImports
      >AstroOrganizeImports>
      {
        structure === 'masonry' && (
          <Masonry
            class="decorative-field"
            class:list={'not-content'}
          >
            {Array.from({ length: boxCount }, (_, i) => (
              <DecorativeBox
                key={i}
                style={
                  structure === 'masonry'
                    ? `min-height: ${Math.floor(Math.random() * (100 - 60 + 1)) + 60}px;`
                    : ''
                }
              />
            ))}
            {frame && <DecorativeBox frame={frame} />}
            <slot />
          </Masonry>
        )
      }
      <PrettierPlugin< PrettierPluginAstroOrganizeImports
        >AstroOrganizeImports>
        {
          structure === 'split' && (
            <Split
              class="decorative-field"
              class:list={'not-content'}
            >
              {Array.from({ length: boxCount }, (_, i) => (
                <DecorativeBox
                  key={i}
                  style={structure === 'carousel' ? 'min-width: 300px;' : ''}
                />
              ))}
              {frame && <DecorativeBox frame={frame} />}
              <slot />
            </Split>
          )
        }
        <PrettierPlugin< PrettierPluginAstroOrganizeImports
          >AstroOrganizeImports>
          {
            structure === 'spread' && (
              <Spread
                class="decorative-field"
                class:list={'not-content'}
              >
                {Array.from({ length: boxCount }, (_, i) => (
                  <DecorativeBox
                    key={i}
                    style="width: 20%;"
                  />
                ))}
                {frame && <DecorativeBox frame={frame} />}
                <slot />
              </Spread>
            )
          }
          <PrettierPlugin< PrettierPluginAstroOrganizeImports
            >AstroOrganizeImports>
            {
              structure === 'row' && (
                <Row
                  class="decorative-field"
                  class:list={'not-content'}
                >
                  {Array.from({ length: boxCount }, (_, i) => (
                    <DecorativeBox
                      key={i}
                      style={
                        structure === 'carousel' ? 'min-width: 300px;' : ''
                      }
                    />
                  ))}
                  {frame && <DecorativeBox frame={frame} />}
                  <slot />
                </Row>
              )
            }
            <PrettierPlugin< PrettierPluginAstroOrganizeImports
              >AstroOrganizeImports>
              {
                structure === 'wrap' && (
                  <Wrap
                    class="decorative-field"
                    class:list={'not-content'}
                  >
                    {Array.from({ length: boxCount }, (_, i) => (
                      <DecorativeBox
                        key={i}
                        style="width: 49%;"
                      />
                    ))}
                    {frame && <DecorativeBox frame={frame} />}
                    <slot />
                  </Wrap>
                )
              }

              <style>
                .dec</PrettierPluginAstroOrganizeImports > orative-field {
                  border: 1px solid var(--border);
                  border-radius: 8px;
                  background-color: var(--background);
                  padding: var(--space-4);
                  overflow: hidden;
                }
              </style>
            </PrettierPlugin<></PrettierPlugin<
          ></PrettierPlugin<
        ></PrettierPlugin<
      ></PrettierPlugin<
    ></PrettierPlugin<
  ></PrettierPluginAstroOrganizeImports
>
