---
import type { HTMLAttributes } from 'astro/types'
import Button from './Button.astro'
import Root from './Root.astro'
type Props = HTMLAttributes<'dialog'> & {
  label?: string
  icon?: string
}

const { label, icon, id = 'dialog', ...rest } = Astro.props
---

<Root
  class="dialog"
  as="dialog"
  {id}
  {...rest}
>
  <slot />
</Root>

<Button
  as="button"
  text={label}
  icon={icon}
  onclick={`document.getElementById('${id}').showModal()`}
/>

<style>
  .dialog::backdrop {
    background: rgba(0, 0, 0, 0.5);
  }
</style>
