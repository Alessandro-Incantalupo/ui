---
import type { ComponentProps } from 'astro/types'
import { Card } from '../card'

interface Props extends ComponentProps<typeof Card> {
  collection?: ComponentProps<typeof Card>['collection']
  cards?: (
    | ComponentProps<typeof Card>
    | ComponentProps<typeof Card>['slug']
    | undefined
    | null
  )[]
}

const { props } = Astro
const cards = props.cards?.map((card) =>
  typeof card === 'string' ? { slug: card } : card
)
---

{
  cards?.map((card) => (
    <Card
      collection={props.collection}
      frame={props.frame}
      {...card}
    />
  ))
}
