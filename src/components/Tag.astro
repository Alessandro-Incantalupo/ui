---
import type { HTMLTag, Polymorphic } from 'astro/types'

type Props<As extends HTMLTag> = Polymorphic<{ as: As }> & {
  hue?: any
  scale?: any
  look?: any
  order?: any
  scheme?: any
  align?: any
  layout?: any
  frame?: any
  density?: any
  [key: string]: any // FIXME
}

const {
  as: As = 'div',
  align,
  layout,
  hue,
  scheme,
  scale,
  look,
  order,
  frame,
  density,
  class: className,
  ...rest
} = Astro.props

const slot = await Astro.slots.render('default')
const hasContent = slot?.trim().length > 0
---

{
  hasContent && (
    <As
      class:list={[
        align,
        layout,
        hue,
        scheme,
        scale,
        look,
        order,
        frame,
        density,
        className,
      ]}
      {...rest}
    >
      <Fragment set:html={slot} />
    </As>
  )
}
