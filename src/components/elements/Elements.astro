---
import type { ComponentProps } from 'astro/types'
import * as ELEMENTS from '../../components'
import { Input } from '../input'
import { Select } from '../select'
import { Textarea } from '../textarea'

interface Props {
  elements?: (
    | ComponentProps<typeof Input>
    | ComponentProps<typeof Textarea>
    | ComponentProps<typeof Select>
  )[]
}

const { elements } = Astro.props
---

{
  elements?.map(async (block: any) => {
    const filename: any = block._bookshop_name?.split('/').pop()
    const components: any = ELEMENTS
    let Found = components[filename]
    if (!Found) return null
    return <Found {...block} />
  })
}
