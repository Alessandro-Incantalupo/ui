---
import * as radixColors from '@radix-ui/colors'

const colors = {
  base: 'slate',
  brand: 'indigo',
}

const radix = (palette: string, step: string, scheme?: string) => {
  if (step === 'fg') return 'white'

  const alpha = step.includes('A') ? 'A' : ''
  step = step.replace('A', '')
  scheme = scheme === 'dark' ? 'Dark' : ''

  const paletteName = `${palette}${scheme}P3${alpha}`
  const stepName = `${palette}${alpha}${step}`
  const color = (radixColors as any)[paletteName][stepName]

  return color
}
---

<body>
  <slot />
</body>

<style
  define:vars={{
    'radix-base1': radix(colors.base, '1'),
    'radix-base2': radix(colors.base, '2'),
    'radix-base3': radix(colors.base, '3'),
    'radix-base4': radix(colors.base, '4'),
    'radix-base5': radix(colors.base, '5'),
    'radix-base6': radix(colors.base, '6'),
    'radix-base7': radix(colors.base, '7'),
    'radix-base8': radix(colors.base, '8'),
    'radix-base9': radix(colors.base, '9'),
    'radix-base10': radix(colors.base, '10'),
    'radix-base11': radix(colors.base, '11'),
    'radix-base12': radix(colors.base, '12'),
    'radix-brand1': radix(colors.brand, '1'),
    'radix-brand2': radix(colors.brand, '2'),
    'radix-brand3': radix(colors.brand, '3'),
    'radix-brand4': radix(colors.brand, '4'),
    'radix-brand5': radix(colors.brand, '5'),
    'radix-brand6': radix(colors.brand, '6'),
    'radix-brand7': radix(colors.brand, '7'),
    'radix-brand8': radix(colors.brand, '8'),
    'radix-brand9': radix(colors.brand, '9'),
    'radix-brand10': radix(colors.brand, '10'),
    'radix-brand11': radix(colors.brand, '11'),
    'radix-brand12': radix(colors.brand, '12'),

    // 'bg-base': radix(colors.base, '1'),
    // 'bg-section': radix(colors.base, '1'),
    // 'bg-card': radix(colors.base, '3'),
    // 'bg-primary': radix(colors.brand, '9'),
    // 'bg-primary-hover': radix(colors.brand, '10'),
    // 'bg-primary-active': radix(colors.brand, '10'),
    // 'bg-secondary': radix(colors.brand, '3'),
    // 'bg-secondary-hover': radix(colors.brand, '4'),
    // 'bg-secondary-active': radix(colors.brand, '5'),
    // 'border-base': 'transparent',
    // 'border-primary': radix(colors.brand, '7'),
    // 'border-primary-hover': radix(colors.brand, '8'),
    // 'border-secondary': radix(colors.brand, '7'),
    // 'border-secondary-hover': radix(colors.brand, '8'),
    // 'color-heading': radix(colors.base, '12'),
    // 'color-base': radix(colors.base, '11'),
    // 'color-primary': radix(colors.brand, '1'),
    // 'color-secondary': radix(colors.brand, '9'),
  }}
>
  :root {
    --slope: calc(min(100vw, 200cqw) - 360px);
    --slope-absolute: calc(100vw - 360px);
    --scale: 1;
    --scale-padding: 1;
    --scale-margin: 0;

    --spacing1: calc(4px + var(--slope) * 0.0016 * var(--scale));
    --spacing2: calc(8px + var(--slope) * 0.0032 * var(--scale));
    --spacing3: calc(12px + var(--slope) * 0.0048 * var(--scale));
    --spacing4: calc(16px + var(--slope) * 0.0064 * var(--scale));
    --spacing5: calc(24px + var(--slope) * 0.0096 * var(--scale));
    --spacing6: calc(32px + var(--slope) * 0.0128 * var(--scale));
    --spacing7: calc(40px + var(--slope) * 0.016 * var(--scale));
    --spacing8: calc(48px + var(--slope) * 0.0192 * var(--scale));
    --spacing9: calc(64px + var(--slope) * 0.0256 * var(--scale));

    --text1: calc(14px + var(--slope) * 0.0028 * var(--scale));
    --text2: calc(17px + var(--slope) * 0.0032 * var(--scale));
    --text3: calc(19px + var(--slope) * 0.012 * var(--scale));
    --text4: calc(30px + var(--slope) * 0.02 * var(--scale));

    --gutter-padding: calc(
      (24px + var(--slope-absolute) * 0.06) * var(--scale-padding)
    );
    --gutter-margin: calc(
      (24px + var(--slope-absolute) * 0.06) * var(--scale-margin)
    );
    --spacer: calc((64px + var(--slope-absolute) * 0.024) * var(--scale));
  }

  .impact-low {
    --bg-base: var(--radix-base1);
    --bg-section: var(--radix-base1);
    --bg-card: var(--radix-base3);
    --bg-primary: var(--radix-brand3);
    --bg-primary-hover: var(--radix-brand4);
    --bg-primary-active: var(--radix-brand5);
    --bg-secondary: 'transparent';
    --bg-secondary-hover: var(--radix-brand2);
    --bg-secondary-active: var(--radix-brand3);
    --border-base: transparent;
    --border-primary: var(--radix-brand7);
    --border-primary-hover: var(--radix-brand8);
    --border-secondary: 'transparent';
    --border-secondary-hover: 'transparent';
    --color-heading: var(--radix-base12);
    --color-base: var(--radix-base11);
    --color-primary: var(--radix-brand11);
    --color-secondary: var(--radix-brand11);
  }

  .impact-medium,
  :root,
  body {
    --bg-base: var(--radix-base1);
    --bg-section: var(--radix-base1);
    --bg-card: var(--radix-base3);
    --bg-primary: var(--radix-brand9);
    --bg-primary-hover: var(--radix-brand10);
    --bg-primary-active: var(--radix-brand10);
    --bg-secondary: var(--radix-brand3);
    --bg-secondary-hover: var(--radix-brand4);
    --bg-secondary-active: var(--radix-brand5);
    --border-base: transparent;
    --border-primary: transparent;
    --border-primary-hover: trandparent;
    --border-secondary: var(--radix-brand7);
    --border-secondary-hover: var(--radix-brand8);
    --color-heading: var(--radix-base12);
    --color-base: var(--radix-base11);
    --color-primary: var(--radix-brand-fg);
    --color-secondary: var(--radix-brand11);
  }

  body {
    background: var(--bg-base);
  }
</style>
