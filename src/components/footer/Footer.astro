---
import { Display } from '../display'
import { Logo } from '../logo'
import FooterRoot from './FooterRoot.astro'

import type { ComponentProps } from 'astro/types'
import { buildProps, type BuildProps, type GetReference } from '../../utils'
import { Heading } from '../heading'
import { Links } from '../links'

interface Base
  extends GetReference,
    ComponentProps<typeof Display>,
    Pick<ComponentProps<typeof Logo>, 'logo' | '_logo'> {
  columns?: ComponentProps<typeof Display>[]
}

type Props = BuildProps<Base, 'footer'>
const props = buildProps(Astro, 'footer')

const { display, columns, logo, _logo, class: className, ...restProps } = props
---

<FooterRoot {...props}>
  <Display {...props}>
    <Logo
      {logo}
      {_logo}
    />
  </Display>
  {
    props?.columns?.map((column) => (
      <Display>
        <Heading
          tag="h4"
          {...column}
        />
        <Links {...column} />
      </Display>
    ))
  }
</FooterRoot>
