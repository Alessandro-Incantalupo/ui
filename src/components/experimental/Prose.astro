---
import type { ComponentProps, HTMLTag, Polymorphic } from 'astro/types'
import Root from 'fulldev-ui/components/Root.astro'

type Props<As extends HTMLTag = 'div'> = Polymorphic<{ as: As }> &
  ComponentProps<typeof Component>

const { as = 'div', ...rest } = Astro.props
---

<Root
  class:list={['prose']}
  {as}
  {...rest}
>
  <slot />
</Root>

<style is:global lang="scss">
  .prose {
    scroll-margin-top: var(--space-6);
    color: var(--text);
    color: var(--color-11);
    font-weight: var(--font-weight);
    font-size: var(--text-2);
    line-height: 1.7;
    font-family: var(--font-family);

    *:first-child {
      margin-top: 0;
    }

    *:last-child {
      margin-bottom: 0;
    }

    .astro-code {
      margin: var(--space-6) 0;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      color: var(--color-12);
      font-weight: 700;
      line-height: 1.2;
    }

    h1 {
      font-size: var(--text-7);
    }

    h2 {
      font-size: var(--text-6);
    }

    h3 {
      font-size: var(--text-5);
    }

    h4 {
      font-size: var(--text-4);
    }

    h5 {
      font-size: var(--text-3);
    }

    h6 {
      font-size: var(--text-2);
    }

    .display {
      display: grid;
      width: 100%;
      max-width: none;

      table {
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
          margin: var(--space-2) 0;
          font: 600 var(--text-2) 'Saira';

          & + p {
            color: var(--hue11);
          }
        }
      }
    }

    table {
      margin: var(--space-5) 0;
      border: 1px solid var(--border);
      border-radius: var(--radius-1) !important;
      border-collapse: collapse;
      width: 100%;
    }

    th {
      border-bottom: 1px solid var(--border);
      background: var(--raised-background) !important;
      color: var(--muted-foreground) !important;
      font-weight: 500 !important;
      font-size: var(--text-1) !important;
    }

    td {
      color: var(--muted-foreground) !important;
    }

    th,
    td {
      padding: var(--space-2);
    }

    table a {
      color: var(--solid) !important;
      font-size: var(--text-1) !important;
      line-height: 1 !important;
      white-space: nowrap;
    }

    h6 {
      margin: var(--space-2) 0;
      font-size: var(--text-2) !important;
    }

    table a:hover {
      text-decoration: underline;
    }
  }
</style>
