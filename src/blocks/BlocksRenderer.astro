---
import * as BLOCKS from '.'

interface Props {
  blocks?: any[]
}

const { blocks } = Astro.props
---

{
  blocks?.map(async (block: any) => {
    const filename: any = block._bookshop_name?.split('/').pop()
    const components: any = BLOCKS
    let Found = components[filename]
    if (!Found) new Error(`Block not found: ${filename}`)
    return <Found {...block} />
  })
}
