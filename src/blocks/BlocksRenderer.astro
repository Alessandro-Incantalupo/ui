---
import * as BLOCKS from '.'
import { Section } from '../components/section'

interface Props {
  blocks?: any[]
}

const { blocks } = Astro.props
---

{
  blocks?.map(async (block: any) => {
    const filename: any = block._bookshop_name?.split('/').pop()
    const components: any = BLOCKS
    let Found = components[filename]
    if (!Found) return <Section {...block} />
    return <Found {...block} />
  })
}
